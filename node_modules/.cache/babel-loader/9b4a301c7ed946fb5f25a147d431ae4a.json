{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/pedro/Documents/app_seat_igreja/app_igreja_assentos/src/components/Form.js\";\nimport React, { useContext, useState } from 'react';\nimport MovieContext from \"../contexts/MovieContext\";\nimport \"./styles/form.css\";\nconst configUrl = \"https://imbt-app-server.rj.r.appspot.com/configAPI\";\n\nconst postConfigFetch = async data => {\n  const response = await fetch(configUrl, {\n    method: 'POST',\n    body: JSON.stringify(data)\n  });\n  const jsonData = await response.json();\n};\n\nconst Form = () => {\n  const {\n    config\n  } = useContext(MovieContext);\n  const context = useContext(MovieContext);\n  let new_object = [];\n  const [nome, setName] = useState('');\n  const [sobrenome, setName2] = useState('');\n  var d = new Date();\n  let nova_reserva = {};\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log(e);\n    console.log(`Form submitted, ${nome} ${sobrenome}`);\n\n    if (config.totalSeats > 0 && nome && sobrenome) {\n      nova_reserva = {\n        Responsavel: nome + ' ' + sobrenome,\n        Assentos: config.seatNumbers,\n        Data: String(d.getDate()) + '/' + String(d.getMonth()) + '/' + String(d.getFullYear()) + '-' + String(d.getHours()) + ':' + String(d.getMinutes()) + ':' + String(d.getSeconds())\n      };\n      new_object = { ...config,\n        ocupados: [...config.ocupados.concat(config.seatNumbers)],\n        seatNumbers: [],\n        totalSeats: 0,\n        reservas: [...config.reservas, nova_reserva]\n      };\n      context.changeState(new_object);\n      console.log(\"enviando: \" + JSON.stringify(new_object));\n      postConfigFetch(new_object);\n      console.log(new_object);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"form-style-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"field1\",\n    className: \"field-divided\",\n    placeholder: \"Nome\",\n    onChange: e => setName(e.target.value),\n    value: nome,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"field2\",\n    className: \"field-divided\",\n    placeholder: \"Sobrenome\",\n    onChange: e => setName2(e.target.value),\n    value: sobrenome,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Reservar!\",\n    className: \"submitButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default Form;","map":{"version":3,"sources":["/mnt/c/Users/pedro/Documents/app_seat_igreja/app_igreja_assentos/src/components/Form.js"],"names":["React","useContext","useState","MovieContext","configUrl","postConfigFetch","data","response","fetch","method","body","JSON","stringify","jsonData","json","Form","config","context","new_object","nome","setName","sobrenome","setName2","d","Date","nova_reserva","handleSubmit","e","preventDefault","console","log","totalSeats","Responsavel","Assentos","seatNumbers","Data","String","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","ocupados","concat","reservas","changeState","target","value"],"mappings":"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","sourcesContent":["import React, { useContext , useState }  from 'react'\r\nimport MovieContext from \"../contexts/MovieContext\"\r\nimport \"./styles/form.css\"\r\n\r\nconst configUrl = \"https://imbt-app-server.rj.r.appspot.com/configAPI\";\r\n\r\n\r\nconst postConfigFetch = async (data) => {\r\n\t\tconst response = await fetch(configUrl,{method: 'POST', body: JSON.stringify(data)} );\r\n\t\tconst jsonData = await response.json();\r\n    \r\n\t};\r\n\r\nconst Form = () => {\r\n    const { config } = useContext(MovieContext)\r\n    const context = useContext(MovieContext)\r\n    let new_object = []\r\n    const [nome, setName] = useState('');\r\n    const [sobrenome, setName2] = useState('');\r\n    var d = new Date()\r\n    let nova_reserva = {}\r\n    \r\n    const handleSubmit = (e) => {\r\n        \r\n        e.preventDefault();\r\n        console.log(e)\r\n        console.log(`Form submitted, ${nome} ${sobrenome}`);\r\n        if (config.totalSeats>0 && nome && sobrenome) {\r\n            nova_reserva = {\r\n                Responsavel: nome + ' ' + sobrenome,\r\n                Assentos: config.seatNumbers,\r\n                Data: String(d.getDate()) + '/' + String(d.getMonth()) + '/' + String(d.getFullYear()) + '-' + String(d.getHours()) + ':' + String(d.getMinutes()) + ':' + String(d.getSeconds())\r\n            }\r\n            new_object = {\r\n                ...config,\r\n                ocupados: [...config.ocupados.concat(config.seatNumbers)],\r\n                seatNumbers: [],\r\n                totalSeats: 0,\r\n                reservas: [...config.reservas,nova_reserva]\r\n            }\r\n            context.changeState(new_object)\r\n            console.log(\"enviando: \" + JSON.stringify(new_object))\r\n            postConfigFetch(new_object)\r\n            console.log(new_object)\r\n        }\r\n        \r\n\r\n    }\r\n\r\n    return(\r\n        <form onSubmit = {handleSubmit}>\r\n\r\n            <ul className=\"form-style-1\">\r\n                <li><input type=\"text\" name=\"field1\" className=\"field-divided\" placeholder=\"Nome\"  onChange = {(e) => setName(e.target.value)} value = {nome}/>\r\n                    <input type=\"text\" name=\"field2\" className=\"field-divided\" placeholder=\"Sobrenome\" onChange = {(e) => setName2(e.target.value)} value = {sobrenome}/></li>\r\n                <li>\r\n                    <input type=\"submit\" value=\"Reservar!\" className=\"submitButton\" />\r\n                </li>\r\n            </ul>\r\n\r\n        </form>\r\n    );\r\n    \r\n}\r\nexport default Form;"]},"metadata":{},"sourceType":"module"}